document.addEventListener('DOMContentLoaded',function(){const mobileMenuToggle=document.querySelector('.mobile-menu-toggle');const mainNav=document.querySelector('.main-nav');if(mobileMenuToggle&&mainNav){mobileMenuToggle.addEventListener('click',function(){this.classList.toggle('active');mainNav.classList.toggle('active');const isExpanded=this.classList.contains('active');this.setAttribute('aria-expanded',isExpanded);});document.addEventListener('click',function(event){if(!event.target.closest('.site-header')){mobileMenuToggle.classList.remove('active');mainNav.classList.remove('active');mobileMenuToggle.setAttribute('aria-expanded','false');}});mainNav.querySelectorAll('a').forEach(link=>{link.addEventListener('click',function(){mobileMenuToggle.classList.remove('active');mainNav.classList.remove('active');mobileMenuToggle.setAttribute('aria-expanded','false');});});}});document.addEventListener('DOMContentLoaded',function(){const copyButton=document.getElementById('copy-button');const promptTextarea=document.getElementById('prompt-text');if(copyButton&&promptTextarea){copyButton.addEventListener('click',function(){copyToClipboard(promptTextarea.value);});}});function copyToClipboard(text){const copyButton=document.getElementById('copy-button');if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(text).then(function(){showCopySuccess();}).catch(function(err){fallbackCopyToClipboard(text);});}else{fallbackCopyToClipboard(text);}}function fallbackCopyToClipboard(text){const tempTextarea=document.createElement('textarea');tempTextarea.value=text;tempTextarea.style.position='fixed';tempTextarea.style.left='-9999px';tempTextarea.style.top='0';tempTextarea.setAttribute('readonly','');document.body.appendChild(tempTextarea);tempTextarea.select();tempTextarea.setSelectionRange(0,99999);try{const successful=document.execCommand('copy');if(successful){showCopySuccess();}else{console.error('Failed to copy text');}}catch(err){console.error('Failed to copy text:',err);}document.body.removeChild(tempTextarea);}function showCopySuccess(){const copyButton=document.getElementById('copy-button');copyButton.classList.add('copied');trackCopyEvent();setTimeout(function(){copyButton.classList.remove('copied');},2000);}function autoResizeTextarea(){const textarea=document.getElementById('prompt-text');if(textarea){textarea.style.height='auto';textarea.style.height=textarea.scrollHeight+'px';}}function trackCopyEvent(){const promptTitle=document.querySelector('.prompt-title')?.textContent||'Unknown Prompt';const breadcrumb=document.querySelector('.breadcrumb');let category='general';if(breadcrumb){const links=breadcrumb.querySelectorAll('a');if(links.length>1){category=links[links.length-1].textContent.toLowerCase();}}if(window.simpleAnalytics&&window.simpleAnalytics.trackPromptCopy){window.simpleAnalytics.trackPromptCopy(promptTitle,category);}console.log('Prompt copied:',promptTitle,'Category:',category);}document.addEventListener('DOMContentLoaded',function(){const promptTextarea=document.getElementById('prompt-text');if(promptTextarea){promptTextarea.addEventListener('focus',function(){this.select();});autoResizeTextarea();}});document.addEventListener('keydown',function(event){if(event.ctrlKey&&event.shiftKey&&event.key==='C'){const promptTextarea=document.getElementById('prompt-text');if(promptTextarea){event.preventDefault();copyToClipboard(promptTextarea.value);}}});document.addEventListener('DOMContentLoaded',function(){const backToTopButton=document.createElement('button');backToTopButton.className='back-to-top';backToTopButton.innerHTML='â†‘';backToTopButton.setAttribute('aria-label','Back to top');backToTopButton.setAttribute('title','Back to top');document.body.appendChild(backToTopButton);window.addEventListener('scroll',function(){if(window.pageYOffset>300){backToTopButton.classList.add('show');}else{backToTopButton.classList.remove('show');}});backToTopButton.addEventListener('click',function(){window.scrollTo({top:0,behavior:'smooth'});});});document.addEventListener('DOMContentLoaded',function(){const footerContainer=document.querySelector('footer .container');if(!footerContainer||document.querySelector('.site-disclosure'))return;const disclosure=document.createElement('div');disclosure.className='site-disclosure';disclosure.style.marginTop='10px';disclosure.style.color='#666';disclosure.style.fontSize='0.9rem';disclosure.innerHTML='FreePromptHub is 100%free. Some links may be affiliate links. Your support keeps this free.<a href="/affiliate-disclosure.html">Learn more</a>.';footerContainer.insertBefore(disclosure,footerContainer.querySelector('nav'));});